/*! jQuery Barcode Input - v0.3.0 - 2012-11-01
* https://github.com/customink/barcode_input
* Copyright (c) 2012 Derek Lindahl; Licensed MIT, GPL */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=[].slice;f=this.document,i=this.jwerty,a=this.jQuery,o="[data-barcode-input]",m=50,b=[],e=function(a,b,c){var d;return d=null,function(){var e,f,g;return e=1<=arguments.length?p.call(arguments,0):[],g=this,f=function(){return c||a.apply(g,e),d=null},d?clearTimeout(d):c&&a.apply(g,e),d=setTimeout(f,b||100)}},h=function(a){return a.hasAttribute&&a.hasAttribute("data-barcode-input")},g=function(b){var c,d;d=b.target;if(a(d).is(":input:not(button)"))return!1;if(c=typeof d.getAttribute=="function"?d.getAttribute("contenteditable"):void 0)if(c.toLowerCase()==="true")return!1;return!0},k=e(function(b,c){return a(o).trigger(""+b+".barcode",c)},m),l=function(a){var c,d;if(g(a))return d=a.keyCode,d>=96&&d<=105&&(d=d-48),c=String.fromCharCode(d),b.push(c),k("insert",b.join(""))},n=function(){return b=[],a(o).val("")},d=function(a){var c;c=g(a)||h(a.target);if(b.length>0&&c)return n(),k("cleared",b.join(""))},j=function(a){var c,d;if(g(a)||h(a.target)){b.length===0&&(d=a.target.value,d&&(b=d.split("")));if(b.length>0)return a.preventDefault(),c=b.join("").replace(/\D/g,""),k("entered",c),n()}},c=function(a){if(i.is("enter/esc",a))return;b=a.target.value.split("");if(b.length>0)return k("insert",b.join(""))},i.key("[0-9]/[num-0-num-9]",l),i.key("esc",d),i.key("enter",j),a(document).on("keyup",o,c)}).call(this);